<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock Trading Simulator</title>
    <style>
        body { font-family: Arial, sans-serif; }
        #dashboard { margin: 20px; }
        #trading-panel { margin: 20px; }
        #leaderboard { margin: 20px; }
        #admin-controls { margin: 20px; }
    </style>
</head>
<body>

<div id="dashboard">
    <h1>Stock Trading Dashboard</h1>
    <div id="stock-prices"></div>
</div>

<div id="trading-panel">
    <h2>Trading Panel</h2>
    <input type="text" id="stock-symbol" placeholder="Stock Symbol">
    <input type="number" id="amount" placeholder="Amount">
    <button id="buy-button">Buy</button>
    <button id="sell-button">Sell</button>
</div>

<div id="leaderboard">
    <h2>Leaderboard</h2>
    <ul id="leaderboard-list"></ul>
</div>

<div id="admin-controls">
    <h2>Admin Controls</h2>
    <button id="reset-button">Reset Simulator</button>
</div>

<script>
    const socket = new WebSocket('ws://your-websocket-url-here');

    socket.onopen = function() {
        console.log('WebSocket connection established');
    };

    socket.onmessage = function(event) {
        const message = JSON.parse(event.data);
        // Handle incoming messages (e.g., stock prices, trades, etc.)
        updateStockPrices(message.stockPrices);
        updateLeaderboard(message.leaderboard);
    };

    document.getElementById('buy-button').onclick = function() {
        const symbol = document.getElementById('stock-symbol').value;
        const amount = document.getElementById('amount').value;
        socket.send(JSON.stringify({ type: 'trade', action: 'buy', symbol, amount }));
    };

    document.getElementById('sell-button').onclick = function() {
        const symbol = document.getElementById('stock-symbol').value;
        const amount = document.getElementById('amount').value;
        socket.send(JSON.stringify({ type: 'trade', action: 'sell', symbol, amount }));
    };

    document.getElementById('reset-button').onclick = function() {
        socket.send(JSON.stringify({ type: 'reset' }));
    };

    function updateStockPrices(prices) {
        const stockPricesDiv = document.getElementById('stock-prices');
        stockPricesDiv.innerHTML = '';
        for (const symbol in prices) {
            stockPricesDiv.innerHTML += `<div>${symbol}: ${prices[symbol]}</div>`;
        }
    }

    function updateLeaderboard(leaderboard) {
        const leaderboardList = document.getElementById('leaderboard-list');
        leaderboardList.innerHTML = '';
        leaderboard.forEach(player => {
            leaderboardList.innerHTML += `<li>${player.name}: ${player.balance}</li>`;
        });
    }
</script>

</body>
</html>